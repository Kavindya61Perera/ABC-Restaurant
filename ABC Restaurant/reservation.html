<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ABC Restaurant</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body background="Image/bc4.jpg">
    <header>
        <div class="logo">
            <img src="Image/logo.jfif" alt="ABC Restaurant Logo">
        </div>
        <nav>
            <ul>
                <li><a href="home.html">Home</a></li>
                <li><a href="gallery.php">Gallery</a></li>
                <li class="dropdown">
                    <a href="#">Our Specialities &#9662;</a>
                    <ul class="dropdown-content">
                        <li><a href="service.html">Services</a></li>
                        <li><a href="facility.html">Facilities</a></li>
                        <li><a href="Displayf&b.php">Food & Beverages</a></li>
                    </ul>
                </li>
                <li><a href="contact.html">Contact Us</a></li>
            </ul>
        </nav>
        <div class="nav-buttons">
            <button class="offer-button" onclick="goToOfferPage('offers.php')">Offers</button>
            <button class="login-button" onclick="goTologinPage('login.html')"><i class="fa-solid fa-user"></i> 
                <span>Login</span>
            </button>
        </div>
    </header>

    <main>
        <section class="order-form">
            <h1>Place Your Order</h1>
            <form name="orderForm" action="reservation.php" method="post" >
                <div class="form-control">
                    <label for="orderType">Select Order Type:</label>
                    <select id="orderType" name="orderType" onchange="toggleOrderType()">
                        <option value="dinein">Dine-in</option>
                        <option value="delivery">Delivery</option>
                    </select>
                </div>
                <div class="form-control">
                    <label for="Cus_name">Name:</label>
                    <input type="text" id="Cus_name" name="Cus_name" required>
                </div>
                <div class="form-control">
                    <label for="Tel_no">Phone:</label>
                    <input type="tel" id="Tel_no" name="Tel_no" pattern="\d{10}" title="Mobile number should be 10 digits" required>
                </div>
                <div class="form-control">
                    <label for="Receive_date">Receive/Delivery Date:</label>
                    <input type="date" id="Receive_date" name="Receive_date" min="" required>
                </div>
                <!-- Dine-in Section -->
                <div id="dineinSection" class="order-section">
                    <h2>Dine-in Details</h2>
                    <div class="form-control">
                        <label for="branchType">Select Our Branch:</label>
                        <select id="branchType" name="branchType">
                            <option value="Panadura">Panadura</option>
                            <option value="Colombo">Colombo</option>
                            <option value="Negombo">Negombo</option>
                            <option value="Kandy">Kandy</option>
                        </select>
                    </div>
                    <div class="form-control">
                        <label for="Receive_time">Time:</label>
                        <input type="time" id="Receive_time" name="Receive_time" min="">
                    </div>
                    <div class="form-control">
                        <label for="Number_person">Number of Persons:</label>
                        <input type="number" id="Number_person" name="Number_person" min="1" max="20" oninput="calculateTotalPrice()" >
                    </div>

                    <div class="form-control">
                        <p id="dineinTotalPrice">Total Price: Rs.0 </p>
                    </div>

                
                </div>

                <div>
                <!-- Delivery Section -->
                <div id="deliverySection" class="order-section" style="display: none;">
                    <h2>Delivery Details</h2>
                    <div class="form-control">
                        <label for="deliveryAddress">Address:</label>
                        <input type="text" id="deliveryAddress" name="deliveryAddress" >
                    </div>
                    <div class="form-control">
                        <label for="foodType">Select Your Food:</label>
                        <select id="foodType" name="foodType">
                            <option value="Pasta">Pasta</option>
                            <option value="Noodles">Noodles</option>
                            <option value="Mongolian Rice">Mongolian Rice</option>
                            <option value="Vege Salad">Vege Salad</option>
                            <option value="OrangeJuice">Orange Juice</option>
                            <option value="Iced Coffee">Iced Coffee</option>
                            <option value="Burger">Burger</option>
                            <option value="Mojito">Mojito</option>
                        </select>
                    </div>
                    <div class="form-control">
                        <label for="Quantity">Quantity:</label>
                        <input type="number" id="Quantity" name="Quantity" min="1" onchange="calculateTotalPrice()"  >
                    </div>

                    <div class="form-control">
                        <p id="deliveryTotalPrice">Total Price: Rs.0 </p>
                    </div>
                </div>

            </div>
                <div class="form-control">
                    <button type="submit" name="submit">Submit Order</button>
                </div>
            </form>
        </section>
    </main>

    <footer>
        <div class="footer-container">
            <div class="footer-left">
                <h4>ABC Restaurant</h4>
                <p>Our purpose is to serve the best food in town.</p>
            </div>
            <div class="footer-right">
                <div class="quick-links">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="home.html">Home</a></li>
                        <li><a href="gallery.html">Gallery</a></li>
                        <li><a href="service.html"></a></li>
                        <li><a href="contact.html">Contact Us</a></li>
                    </ul>
                </div>
                <div class="contact-info">
                    <h4>Contact Information</h4>
                    <p><strong>Opening Hours:</strong> Mon-Fri 10:00 AM - 10:00 PM</p>
                    <p><strong>Location:</strong> 123 Main Street, Colombo</p>
                    <p><strong>Phone:</strong> +94 123 456 789</p>
                    <p><strong>Email:</strong> info@abcrestaurant.lk</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Â© 2024 ABC Restaurant. All Rights Reserved.</p>
            </div>
        </div>
    </footer>       
</body>

<script>

// Set the minimum date for the Receive_date field to today
document.addEventListener('DOMContentLoaded', function() {
        var today = new Date().toISOString().split('T')[0];
        document.getElementById('Receive_date').setAttribute('min', today);
    });

    function goToOfferPage(page) {
        window.location.href = page;
    }

    function goTologinPage(page) {
        window.location.href = page;
    }

    document.addEventListener('DOMContentLoaded', function() {
        var now = new Date();
        var hours = now.getHours().toString().padStart(2, '0');
        var minutes = now.getMinutes().toString().padStart(2, '0');
        var currentTime = hours + ':' + minutes;

        document.getElementById('Receive_time').setAttribute('min', currentTime);
    });


    function toggleOrderType() {
        var orderType = document.getElementById('orderType').value;
        var dineinSection = document.getElementById('dineinSection');
        var deliverySection = document.getElementById('deliverySection');
        
        if (orderType === 'dinein') {
            dineinSection.style.display = 'block';
            deliverySection.style.display = 'none';
        } else {
            dineinSection.style.display = 'none';
            deliverySection.style.display = 'block';
        }
        calculateTotalPrice(); // Recalculate total price when switching order type
    }

    function calculateTotalPrice() {
        var orderType = document.getElementById('orderType').value;
        var totalPrice = 0;

        if (orderType === 'dinein') {
            var numberPersons = document.getElementById('Number_person').value;
            var pricePerPerson = 2500;
            totalPrice = numberPersons * pricePerPerson;
            document.getElementById('dineinTotalPrice').textContent = 'Total Price: Rs.' + totalPrice;
        } else if (orderType === 'delivery') {
            var foodType = document.getElementById('foodType').value;
            var quantity = document.getElementById('Quantity').value;
            var foodPrices = {
                'Pasta': 1800,
                'Noodles': 1300,
                'Mongolian Rice': 1500,
                'Vege Salad': 1200,
                'Burger': 980,
                'Waffels': 900,
                'Orange Juice': 300,
                'Iced Coffee': 400,
                'Mojito': 400
            };
            var pricePerItem = foodPrices[foodType];
            totalPrice = quantity * pricePerItem;
            document.getElementById('deliveryTotalPrice').textContent = 'Total Price: Rs.' + totalPrice;
        }
        
        return true; 
    }

    function redirectToPaymentPage() {
        
        window.location.href = "payment.php";
        
    }
</script>
</html>
